<%= render 'layouts/katex' %>

<% @posts.each do |post|%>
  <div class="post-entry">
    <h2><%= link_to post.title_cn, post %></h2>
    <div class="post-body">
      <%= degrade_head(Redcarpet::Markdown.new(Redcarpet::Render::HTML, fenced_code_blocks: true).render(post.body),2).html_safe %>
    </div>

    <div class="post-footer">
      <span class="post-time">
        <%= post.posted_on.strftime("%F") %>
      </span>
      <div class="clear"></div>
    </div>
  </div>
<% end %>


<div id="pagination" class="d-flex justify-content-between">
  <div>
    <% if !@posts.first_page? %>
      <%= link_to 'Prev Page', root_path(page: @posts.prev_page) %>
    <% end %>
  </div>

  <div>
    <% if !@posts.last_page? %>
      <%= link_to 'Next Page', root_path(page: @posts.next_page) %>
    <% end %>
  </div>
</div>
